# Library Management System

## Table of Contents

1. [Overview](#overview)
2. [Technologies Used](#technologies-used)
3. [Database Design](#database-design)
   - [Users Collection](#users-collection)
   - [Books Collection](#books-collection)
   - [Transactions Collection](#transactions-collection)
4. [API Endpoints](#api-endpoints)
   - [Books API](#books-api)
   - [Transactions API](#transactions-api)
   - [Helper APIs](#helper-apis)
5. [Frontend](#frontend)
6. [Deployment](#deployment)
7. [Conclusion](#conclusion)

## Overview

The Library Management System is a fullstack application designed to manage books, users, and transactions in a library setting. The application allows users to interact with the backend APIs to perform various operations such as searching for books, issuing and returning books, and tracking transactions.

## Technologies Used

- **Backend:** Node.js, Express.js
- **Database:** MongoDB
- **Frontend:** React, Tailwind CSS
- **Deployment:**
  - Frontend: Vercel
  - Backend: Render

## Database Design

### Users Collection

The `Users` collection contains information about the users of the library. Each user document includes:

- **\_id:** Unique identifier for the user (automatically generated by MongoDB)
- **name:** Name of the user
- **email:** Email of the user
- **phone:** Phone number of the user

**Sample User Documents:**

```json
[
  {
    "name": "Alice Smith",
    "email": "alice@example.com",
    "age": 29
  },
  { "name": "Bob Johnson", "email": "bob@example.com", "age": 24 },
  {
    "name": "Charlie Brown",
    "email": "charlie@example.com",
    "age": 15
  },
  {
    "name": "David Williams",
    "email": "david@example.com",
    "age": 20
  },
  { "name": "Eva Green", "email": "eva@example.com", "age": 21 }
]
```

### Books Collection

The `Books` collection stores information about the books available in the library. Each book document includes:

- **\_id:** Unique identifier for the book (automatically generated by MongoDB)
- **bookName:** Name of the book
- **category:** Category of the book
- **rentPerDay:** Rent price per day for the book

**Sample Book Documents:**

```json
[
  { "bookName": "The Great Gatsby", "category": "Fiction", "rentPerDay": 2 },
  { "bookName": "1984", "category": "Dystopian", "rentPerDay": 1.5 },
  { "bookName": "Moby Dick", "category": "Fiction", "rentPerDay": 2.5 },
  {
    "bookName": "The Catcher in the Rye",
    "category": "Fiction",
    "rentPerDay": 1.8
  },
  {
    "bookName": "To Kill a Mockingbird",
    "category": "Fiction",
    "rentPerDay": 2
  }
  // Additional books...
]
```

### Transactions Collection

The `Transactions` collection keeps track of the issuing and returning of books. Each transaction document includes:

- **\_id:** Unique identifier for the transaction (automatically generated by MongoDB)
- **bookId:** Unique identifier of the book.
- **bookName:** Name of the book being issued or returned
- **email:** Email of the user who issued or returned the book
- **userName:**: Name of the user who issued or returned the book
- **issueDate:** Date when the book was issued
- **returnDate:** Date when the book was returned
- **rent:** Calculated rent based on issue and return dates
- **status:** - Status of the book (issued or returned)

## API Endpoints

### Books API

1. **Search Books by Name**

   - **Endpoint:** `GET /api/books/term`
   - **Query Params:** `term=<book_name_or_term>`
   - **Output:** List of all books matching the name or term.

2. **Search Books by Rent Price Range**

   - **Endpoint:** `GET /api/books/rent`
   - **Query Params:** `min=<min_price>&max=<max_price>`
   - **Output:** List of books within the rent price range.

3. **Search Books by Category, Name/Term, and Rent Range**
   - **Endpoint:** `GET /api/books/`
   - **Query Params:** `category=<category>&term=<name_or_term>&min=<min_price>&max=<max_price>`
   - **Output:** List of books matching the criteria.

### Transactions API

1. **Issue a Book**

   - **Endpoint:** `POST /api/transactions/issue`
   - **Body:** `{ "bookName": "<book_name>", "email": "<email_id>" }`
   - **Output:** Update the transaction database with the issue details.

2. **Return a Book**

   - **Endpoint:** `PUT /api/transactions/return`
   - **Body:** `{ "bookName": "<book_name>", "email": "<email_id>" }`
   - **Output:** Return the book, calculates total rent and update the transaction database.

3. **Get Issued Book History**

   - **Endpoint:** `GET /api/transactions2/book/history/:bookName`
   - **Output:** List of users who have issued the book.

4. **Get Total Rent Generated by a Book**

   - **Endpoint:** `GET /api/transactions2/book/rent/:bookName`
   - **Output:** Total rent generated by the book.

5. **Get Books Issued to a User**

   - **Endpoint:** `GET /api/transactions2/user/history/:userName`
   - **Output:** List of books issued to the user.

6. **Get Books Issued in a Date Range**
   - **Endpoint:** `POST /api/transactions2/date/history`
   - **Body:** `{ "startDate": "<startDate>", "endDate": "endDate" }`
   - **Output:** List of books issued in the specified date range.

### Helper APIs

- **Get All Users**

  - **Endpoint:** `GET /api/transactions2/users`
  - **Output:** List of all users.

- **Get All Books**
  - **Endpoint:** `GET /api/transactions2/books`
  - **Output:** List of all books.

## Frontend

The frontend is built using React and styled with Tailwind CSS. It interacts with the backend APIs using axios to allow users to search for books, issue and return books, and view their transaction history.

## Deployment

- **Frontend:** Deployed on Vercel. Access it at: https://san-library.vercel.app/
- **Backend:** Deployed on Render. Access the API endpoints at: https://san-library.onrender.com/

## Conclusion

The Library Management System provides a comprehensive solution for managing library operations. The project demonstrates proficiency in backend development, database design, and API creation. The deployment on Render and Vercel ensures that the application is accessible and functional.
